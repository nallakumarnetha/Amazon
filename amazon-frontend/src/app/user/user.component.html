<ng-content *ngIf="!isUpdate; else updateUserTemplate">
    <div style="text-align: center;">
        <ng-container *ngIf="user?.base64_files as base64_files">
            <ng-container *ngIf="base64_files | keyvalue as filesMap">
                <ng-container *ngFor="let element of filesMap">
                    <img [src]="'data:image/png;base64,' + element.value" [alt]="user?.name" width="100" height="100"
                        style="border-radius: 50%; object-fit: cover;">
                </ng-container>
            </ng-container>
        </ng-container>

        <div style="margin-top: 10px;">
            {{user.user_id}} <br>
            {{user.name}} <br>
            {{user.role}} <br>
            <button (click)="isUpdate = !isUpdate">Edit</button>
        </div>
    </div>
</ng-content>

<ng-template #updateUserTemplate>
    <div style="display: flex; justify-items: center; justify-content: center; margin: 10px;">
        <form [formGroup]="updatedUserForm" (ngSubmit)="updateUser()"
            style="justify-content: center; width: 500px; height: 1000px;">
            <div style="display: flex; flex-direction: column; gap: 10px;">

                <label for="user_id">ID</label>
                <input formControlName="user_id" type="text" style="height: 30px;" readonly>

                <label for="name">Name</label>
                <input formControlName="name" type="text" style="height: 30px;">

                <label for="phone_number">Phone number</label>
                <input formControlName="phone_number" type="number" style="height: 30px;">

                <label for="gender">Gender</label>
                <input formControlName="gender" type="text" style="height: 30px;">

                <label for="role">Role</label>
                <input formControlName="role" type="text" style="height: 30px;">

                <label for="image">Images</label>
                <div style="display: flex; flex-direction: row; gap: 10px;">
                    <ng-container *ngIf="user?.base64_files as base64_files">
                        <ng-container *ngIf="base64_files | keyvalue as filesMap">
                            <ng-container *ngFor="let element of filesMap">
                                <img [src]="'data:image/png;base64,' + element.value" [alt]="user?.name" width="100"
                                    height="100" style="border-radius: 50%; object-fit: cover;">
                                <button type="button" (click)="onRemoveFile(element.key)"
                                    style="height: 20px;">x</button>
                            </ng-container>
                        </ng-container>
                    </ng-container>
                </div>

                <button type="button" (click)="triggerFileSelect(myFileInputId)" style="width: 50px;"> + </button>
                <input #myFileInputId type="file" multiple (change)="onFileSelected($event)" style="display: none;">

                <div style="display: flex; flex-direction: row; justify-content: right; margin-left: 10px; gap: 10px;">
                    <button
                        style="color: white; background-color: black; border: none; border-radius: 4px; padding: 10px; cursor: pointer"
                        (click)="isUpdate = false">Cancel</button>
                    <button type="submit"
                        style="background-color: hwb(189 7% 47%); color: white; border: none; border-radius: 4px; cursor: pointer;">
                        Update
                    </button>
                </div>

            </div>
        </form>
    </div>
</ng-template>